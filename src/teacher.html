<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>老师端</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <script src="https://cdn.staticfile.org/jquery/1.10.2/jquery.min.js"></script>
    <style>
        .body {
            color: red;
        }
    </style>
    <script type="text/javascript">
        function getStu() {
            // 发送ajax请求，也就是get或post请求，相当于在浏览器里输入url访问
            $.ajax({
                type: 'get',   // 请求类型
                url: 'http://localhost:8080/server/teacher_login',  // 请求地址
                dataType: "text",        // 返回值的数据类型，text表示纯文本
                success: function (data) {     // 访问成功的回调函数，成功后会执行此函数
                    data = JSON.parse(data);
                    console.log(data[0].id);
                    console.log(data[1].name);
                    console.log(data[2].pw);
                    console.log(data[3].level);
                    console.log(data[4].age);
                    console.log(data[5].sex);
                    console.log(data[6].phonenumber);
                    console.log(data[7].gonghao);
                },
                error: function(data) {    // 访问错误的处理
                    //alert(data);
                }
            });
        }
    </script>
</head>
<body>
<body >
<div class="body">
    老师，欢迎使用
    <span class="label label-primary">教师</span>
    <button class="btn btn-primary" type="button">
        新消息 <span class="badge">4</span>
    </button>
</div>
    <br>
    <button style="width: 280px;margin-left: 40%;" type="button" class="btn btn-success" onclick="build()">显示教师数据</button>
    <div >
        <table id="table" class="table table-hover" >
            <tr class="row" >
                <th >id</th>
                <th >姓名</th>
                <th >级别</th>
                <th >年龄</th>
                <th >性别</th>
                <th >电话号码</th>
                <th >工号</th>
            </tr>
            <tbody id="table-body">

            </tbody>
        </table>
    </div>

    <script type="text/javascript">

        function buildTable(data) {
            var html = "";
            for (var i = 0; i < data.length;i++){
                html += "<tr class='row'>" +
                    "<td >"+data[i].id+"</td>" +
                    "<td >"+data[i].name+"</td>" +
                    "<td >"+data[i].level+"</td>" +
                    "<td >"+data[i].age+"</td>" +
                    "<td >"+data[i].sex+"</td>" +
                    "<td >"+data[i].phonenumber+"</td>" +
                    "<td >"+data[i].gonghao+"</td>" +
                    "</tr>" ;
            }
            // $("#content").empty();
            $("#table-body").append(html);
        }

        function build() {
            // 请求数据
            $.ajax({
                type: 'get',   // 请求类型
                url: 'http://localhost:8080/server//teacher_login',  // 请求地址
                dataType: "text",        // 返回值的数据类型，text表示纯文本
                success: function (data) {     // 访问成功的回调函数，成功后会执行此函数
                    // 把data转成json
                    data = JSON.parse(data);
                    buildTable(data);
                },
                error: function(data) {    // 访问错误的处理
                    //alert(data);
                }
            });
        }

        //从前端接收信息框中的信息，添加到数据库中
        function note(date) {
            // 发送ajax请求，也就是get或post请求，相当于在浏览器里输入url访问
            $.ajax({
                type: 'post',   // 请求类型
                url: 'http://localhost:8080/server/course',  // 请求地址
                data: {
                    username: $("#pname").val(),     // 请求的参数，通过组件的id获取到它的值
                    pteacherid: $("#pteacherid").val(),
                    pnotice: $("#pnotice").val(),
                },
                dataType: "text",        // 返回值的数据类型，text表示纯文本
                success: function (data) {     // 访问成功的回调函数，成功后会执行此函数
                    if('发布成功！' !== data) {
                        alert(data);
                        //alert("账号或密码错误！");
                    } else {
                        alert(data);
                        /*if ($("input[name='user']:checked").val() === '学生') {
                            document.location = 'student.html';   // 登陆成功，跳转到学生界面
                        } else {
                            document.location = 'teacher.html';   //登陆成功，跳转到老师界面
                        }*/
                    }
                },
                error: function(data) {    // 访问错误的处理
                    alert(data);
                }
            });
        }

        function stu_course() {
            // 发送ajax请求，也就是get或post请求，相当于在浏览器里输入url访问
            $.ajax({
                type: 'post',   // 请求类型
                url: 'http://localhost:8080/server/course_manage',  // 请求地址
                data: {
                    username: $("#pname").val(),     // 请求的参数，通过组件的id获取到它的值
                    psd: $("#ppsd").val(),
                    user: $("input[name='user']:checked").val(),
                },
                dataType: "text",        // 返回值的数据类型，text表示纯文本
                success: function (data) {     // 访问成功的回调函数，成功后会执行此函数
                    document.location = 'stu_course.html';   // 登陆成功，跳转到学生界面
                    /*if('登陆成功！' !== data) {
                        alert(data);
                        //alert("账号或密码错误！");
                    } else {
                        if ($("input[name='user']:checked").val() === '学生') {
                            document.location = 'student.html';   // 登陆成功，跳转到学生界面
                        } else {
                            document.location = 'teacher.html';   //登陆成功，跳转到老师界面
                        }
                    }*/
                },
                error: function(data) {    // 访问错误的处理
                    alert(data);
                }
            });
        }
        
        function check_course() {
            // 发送ajax请求，也就是get或post请求，相当于在浏览器里输入url访问
            $.ajax({
                type: 'post',   // 请求类型
                url: 'http://localhost:8080/server/course_manage',  // 请求地址
                data: {
                    username: $("#pname").val(),     // 请求的参数，通过组件的id获取到它的值
                    psd: $("#ppsd").val(),
                    user: $("input[name='user']:checked").val(),
                },
                dataType: "text",        // 返回值的数据类型，text表示纯文本
                success: function (data) {     // 访问成功的回调函数，成功后会执行此函数
                    document.location = 'stu_course.html';   // 登陆成功，跳转到学生界面

        },
                error: function(data) {    // 访问错误的处理
                    alert(data);
                }
            });
        }


            function turn_to_tea_file() {
                // 发送ajax请求，也就是get或post请求，相当于在浏览器里输入url访问
                $.ajax({
                    type: 'post',   // 请求类型
                    url: 'http://localhost:8080/server/adminner_operate_tea',  // 请求地址
                    /*data: {
                        username: $("#pname").val(),     // 请求的参数，通过组件的id获取到它的值
                        psd: $("#ppsd").val(),
                        user: $("input[name='user']:checked").val(),
                    },
                    dataType: "text",   */     // 返回值的数据类型，text表示纯文本
                    success: function (data) {     // 访问成功的回调函数，成功后会执行此函数
                        document.location = 'tea_file.html';   // 登陆成功，跳转到学生界面

                    },
                    error: function(data) {    // 访问错误的处理
                        alert(data);
                    }
                });
            }

        function turn_to_check_homework() {
            // 发送ajax请求，也就是get或post请求，相当于在浏览器里输入url访问
            $.ajax({
                type: 'post',   // 请求类型
                url: 'http://localhost:8080/server/adminner_operate_tea',  // 请求地址
                /*data: {
                    username: $("#pname").val(),     // 请求的参数，通过组件的id获取到它的值
                    psd: $("#ppsd").val(),
                    user: $("input[name='user']:checked").val(),
                },
                dataType: "text",   */     // 返回值的数据类型，text表示纯文本
                success: function (data) {     // 访问成功的回调函数，成功后会执行此函数
                    document.location = 'check_online_homework.html';   // 登陆成功，跳转到学生界面

                },
                error: function(data) {    // 访问错误的处理
                    alert(data);
                }
            });
        }

        function turn_to_unit_add() {
            // 发送ajax请求，也就是get或post请求，相当于在浏览器里输入url访问
            $.ajax({
                type: 'post',   // 请求类型
                url: 'http://localhost:8080/server/adminner_operate_tea',  // 请求地址
                /*data: {
                    username: $("#pname").val(),     // 请求的参数，通过组件的id获取到它的值
                    psd: $("#ppsd").val(),
                    user: $("input[name='user']:checked").val(),
                },
                dataType: "text",   */     // 返回值的数据类型，text表示纯文本
                success: function (data) {     // 访问成功的回调函数，成功后会执行此函数
                    document.location = 'tea_unit_add.html';   // 登陆成功，跳转到学生界面

                },
                error: function(data) {    // 访问错误的处理
                    alert(data);
                }
            });
        }

    </script>

    <div >
        <div class="login-form">
            <div class="row" style="width: 100%; margin-bottom: 24px; text-align: center; font-size: 24px;font-weight: bold;">发布课程</div>
            <form action="http://localhost:8080/server/course" method="post">
                <div class="form-group input">
                    <label for="pname">课程名称</label>
                    <input type="text" class="form-control" name="username" id="pname" placeholder="课程名称">
                </div>
                <div class="form-group input">
                    <label for="pteacherid">教师id</label>
                    <input type="text" class="form-control" name="pteacherid" id="pteacherid" placeholder="教师id">
                </div>
                <div class="form-group input">
                    <label for="pnotice">课程通知</label>
                    <input type="text" class="form-control" name="pnotice" id="pnotice" placeholder="课程公告">
                </div>
            </form>
        </div>
    </div>
    <button style="width: 280px;margin-left: 40%;" type="button" class="btn btn-success" onclick="note()">发布课程</button>
    <button style="width: 280px;margin-left: 40%;  color: red;background-color: aqua" type="button" class="btn btn-success" onclick="stu_course()">添加学生</button>
    <button style="width: 280px;margin-left: 40%;  color: red;background-color: aqua" type="button" class="btn btn-success" onclick="check_course()">查询我的任务课程</button>
    <button style="width: 280px;margin-left: 40%;  color: red;background-color: aqua" type="button" class="btn btn-success" onclick="turn_to_tea_file()">发布作业文件</button>
    <button style="width: 280px;margin-left: 40%;  color: red;background-color: aqua" type="button" class="btn btn-success" onclick="turn_to_check_homework()">检查学生在线提交的作业</button>
    <button style="width: 280px;margin-left: 40%;  color: red;background-color: aqua" type="button" class="btn btn-success" onclick="turn_to_unit_add()">教师添加学习单元</button>



</body>
</body>
</html>